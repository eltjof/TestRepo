ACCOUNT

1 

|scenario              |maak particulier account aan|emailadres                                                                       |
|click                 |Maak een nieuw account aan                                                                                    |
|click                 |css=label[for='UpdateProfile_Type_PRIVATE']                                                                   |
|click                 |css=label[for='UpdateProfile_Title_WOMAN']                                                                    |
|enter                 |Georgina                    |as   |css=#UpdateProfile_FirstName                                               |
|enter                 |de                          |as   |css=#UpdateProfile_LastNamePrefix                                          |
|enter                 |Storte                      |as   |css=#UpdateProfile_LastName                                                |
|click                 |css=#UpdateProfile_BirthDate_Day > option:nth-child(7)                                                        |
|click                 |css=#UpdateProfile_BirthDate_Month > option:nth-child(3)                                                      |
|click                 |css=#UpdateProfile_BirthDate_Year > option:nth-child(64)                                                      |
|enter                 |7272                        |as   |css=#UpdateProfile_ZIP                                                     |
|enter                 |TN                          |as   |css=#UpdateProfile_ZIPSuffix                                               |
|enter                 |130                         |as   |css=#UpdateProfile_HouseNr                                                 |
|enter                 |a                           |as   |css=#UpdateProfile_Bus                                                     |
|wait                  |3                           |seconds                                                                          |
|enter                 |Korte Kampen                |as   |css=#UpdateProfile_Street                                                  |
|enter                 |Dalfsen                     |as   |css=#UpdateProfile_City                                                    |
|is not visible on page|Vul eerst je postcode in                                                                                      |
|enter                 |06-78204336                 |as   |css=#UpdateProfile_Phone                                                   |
|enter                 |@emailadres                 |as   |css=#UpdateProfile_Mail                                                    |
|wait                  |3                           |seconds                                                                          |
|enter                 |${WW_TESTACCOUNT}           |as   |css=#UpdateProfile_Password                                                |
|enter                 |${WW_TESTACCOUNT}           |as   |css=#UpdateProfile_PasswordConfirm                                         |
|show                  |value of                    |css=#UpdateProfile_General                                                       |
|show                  |value of                    |css=#UpdateProfile_Wine                                                          |
|click                 |css=label[for='UpdateProfile_General']                                                                        |
|click                 |css=label[for='UpdateProfile_Wine']                                                                           |
|show                  |value of                    |css=#UpdateProfile_General                                                       |
|show                  |value of                    |css=#UpdateProfile_Wine                                                          |
|click                 |css=label[for='UpdateProfile_CustomerCard']                                                                   |
|check pending requests                                                                                                               |
|check                 |value of attribute          |style|on|xpath=//*[@id="ProfileData"]/div/fieldset[9]/footer/button|opacity: 0.5;|
|click                 |css=label[for='UpdateProfile_TermsAndConditions']                                                             |
|check pending requests                                                                                                               |
|show                  |value of                    |css=#UpdateProfile_TermsAndConditions                                            |
|check                 |value of attribute          |style|on|xpath=//*[@id="ProfileData"]/div/fieldset[9]/footer/button|opacity: 1;  |
|check pending requests                                                                                                               |
|show                  |take screenshot             |Aanmelden nieuw account                                                          |
|click                 |xpath=//*[@id="ProfileData"]/div/fieldset[9]/footer/button                                                    |
|check pending requests                                                                                                               |
|ensure                |is  visible on page         |Mijn gegevens                                                                    |
|ensure                |is  visible on page         |Georgina                                                                         |
|click                 |xpath=//*[@class='accountDetails__overview']//a[contains(text(),'Bekijk')]                                    |
|show                  |value of                    |css=#UpdateProfile_General                                                       |
|show                  |value of                    |css=#UpdateProfile_Wine                                                          |
|uitloggen frontstore  |Georgina                                                                                                      |

2 

|scenario              |maak zakelijk account aan|emailadres                                                                       |
|click                 |Maak een nieuw account aan                                                                                 |
|click                 |css=label[for='UpdateProfile_Type_BUSINESS']                                                               |
|enter                 |Dreamscape Garden Care   |as   |css=#UpdateProfile_CompanyName                                             |
|select                |Kinderdagverblijf        |for  |css=.hasSelect                                                             |
|click                 |css=label[for='UpdateProfile_Title_MAN']                                                                   |
|enter                 |Kwinten                  |as   |css=#UpdateProfile_FirstName                                               |
|enter                 |de                       |as   |css=#UpdateProfile_LastNamePrefix                                          |
|enter                 |Vree                     |as   |css=#UpdateProfile_LastName                                                |
|click                 |css=#UpdateProfile_BirthDate_Day > option:nth-child(7)                                                     |
|click                 |css=#UpdateProfile_BirthDate_Month > option:nth-child(3)                                                   |
|click                 |css=#UpdateProfile_BirthDate_Year > option:nth-child(64)                                                   |
|enter                 |9561                     |as   |css=#UpdateProfile_ZIP                                                     |
|enter                 |JC                       |as   |css=#UpdateProfile_ZIPSuffix                                               |
|enter                 |98                       |as   |css=#UpdateProfile_HouseNr                                                 |
|enter                 |a                        |as   |css=#UpdateProfile_Bus                                                     |
|wait                  |3                        |seconds                                                                          |
|enter                 |Hoofdstraat              |as   |css=#UpdateProfile_Street                                                  |
|enter                 |Ter Apel                 |as   |css=#UpdateProfile_City                                                    |
|is not visible on page|Vul eerst je postcode in                                                                                   |
|enter                 |06-31951455              |as   |css=#UpdateProfile_Phone                                                   |
|enter                 |@emailadres              |as   |css=#UpdateProfile_Mail                                                    |
|enter                 |${WW_TESTACCOUNT}        |as   |css=#UpdateProfile_Password                                                |
|enter                 |${WW_TESTACCOUNT}        |as   |css=#UpdateProfile_PasswordConfirm                                         |
|show                  |value of                 |css=#UpdateProfile_General                                                       |
|show                  |value of                 |css=#UpdateProfile_Wine                                                          |
|click                 |css=label[for='UpdateProfile_General']                                                                     |
|click                 |css=label[for='UpdateProfile_Wine']                                                                        |
|show                  |value of                 |css=#UpdateProfile_General                                                       |
|show                  |value of                 |css=#UpdateProfile_Wine                                                          |
|click                 |css=label[for='UpdateProfile_CustomerCard']                                                                |
|check pending requests                                                                                                            |
|check                 |value of attribute       |style|on|xpath=//*[@id="ProfileData"]/div/fieldset[9]/footer/button|opacity: 0.5;|
|click                 |css=label[for='UpdateProfile_TermsAndConditions']                                                          |
|check pending requests                                                                                                            |
|show                  |value of                 |css=#UpdateProfile_TermsAndConditions                                            |
|check                 |value of attribute       |style|on|xpath=//*[@id="ProfileData"]/div/fieldset[9]/footer/button|opacity: 1;  |
|check pending requests                                                                                                            |
|show                  |take screenshot          |Aanmelden nieuw account                                                          |
|click                 |xpath=//*[@id="ProfileData"]/div/fieldset[9]/footer/button                                                 |
|check pending requests                                                                                                            |
|ensure                |is  visible on page      |Mijn gegevens                                                                    |
|ensure                |is  visible on page      |Kwinten                                                                          |
|click                 |xpath=//*[@class='accountDetails__overview']//a[contains(text(),'Bekijk')]                                 |
|show                  |value of                 |css=#UpdateProfile_General                                                       |
|show                  |value of                 |css=#UpdateProfile_Wine                                                          |
|uitloggen frontstore  |                                                                                                           |

3

|scenario  |controleer nieuwsbrieven in accountgegevens|accountnaam                                  |
|hover over|@accountnaam                               |in                        |css=.header-navbar|
|click     |Overzicht                                  |in                        |css=.navbar-sub   |
|ensure    |is  visible on page                        |Mijn gegevens                                |
|ensure    |is  visible on page                        |@accountnaam                                 |
|check     |value of                                   |css=#UpdateProfile_General|true              |
|check     |value of                                   |css=#UpdateProfile_Wine   |true              |

4

|scenario  |controleer account |accountnaam          |
|hover over|@accountnaam       |in|css=.header-navbar|
|click     |Overzicht          |in|css=.navbar-sub   |
|ensure    |is  visible on page|Mijn gegevens        |
|ensure    |is  visible on page|@accountnaam         |


FRONTEND

1 

|scenario|open Frontstore           |
|open    |${URL_FRONTEND}           |
|check pending requests             |
|show    |take screenshot|frontstore|

2       

|scenario  |inloggen Frontstore                  |
|hover over|Mijn Coop      |in|css=.header-navbar|
|click     |Inloggen       |in|css=.navbar-sub   |
|show      |take screenshot|inloggen             |

3

|scenario|gebruikersnaam    |gebruikersnaam|wachtwoord|wachtwoord|inloggen|
|enter   |@gebruikersnaam   |as            |xpath=//*[@id="email"]        |
|enter   |@wachtwoord       |as            |xpath=//*[@id="wachtwoord"]   |
|press   |Tab                                                             |
|click   |Inloggen          |in            |css=.actions.gi               |
|check pending requests                                                   |
|ensure  |is visible on page|Welkom                                       |
|show    |take screenshot   |welkom                                       |

4

|scenario|zoek supermarkt|postcode       |
|click   |Zoek supermarkt                |
|enter   |@postcode      |as|id=fc_search|
|click   |id=btnSearch                   |
|show    |take screenshot|zoek supermarkt|

5

|scenario|Kies hier boodschappen doen|storeID|Is Zichtbaar|winkel          |
|click   |Hier boodschappen doen     |in     |css=#store_@storeID          |
|ensure  |is visible on page         |@winkel|in          |css=.navbar-item|
|show    |take screenshot            |winkel gekozen                       |

6

|scenario|artikel via zoekterm   |artikelzoeknaam  |in winkelmand  |
|enter   |@artikelzoeknaam       |as               |id=SearchTerm  |
|click   |css=#ui-id-1 > li:nth-child(2) > ul > li:nth-child(1) > a|
|click   |xpath=//article//span[@data-plusbutton]                  |
|show    |take screenshot        |artikel op zoeknaam              |


7

|scenario  |artikel        |artikelvolgnr|van categorie        |categorie       |in winkelmand       |
|hover over|Boodschappen   |in           |id=header-mainnav                                          |
|click     |@categorie                                                                               |
|click     |+              |in           |xpath=//article[@artikelvolgnr]//span[!-@data-plusbutton-!]|
|check pending requests                                                                              |
|show      |take screenshot|artikel in winkelmand                                                    |

8

|scenario  |artikel        |artikelvolgnr|van categorie       |categorie       |uit winkelmand      |
|hover over|Boodschappen   |in           |id=header-mainnav                                         |
|click     |@categorie                                                                              |
|click     |-              |in           |xpath=//article[@artikelvolgnr]//span[!-@data-minbutton-!]|
|check pending requests                                                                             |
|show      |take screenshot|artikel uit winkelmand                                                  |

9

|scenario  |van categorie     |categorie|kies filtercategorie|filtercategorie   |in label   |label   |
|hover over|Boodschappen      |in       |id=header-mainnav                                           |
|click     |@categorie                                                                               |
|click     |@label            |in       |xpath=//span[text()='@filtercategorie']/..                  |
|ensure    |is visible on page|Jouw selectie                                                         |
|ensure    |is visible on page|@label   |in                  |xpath=//span[text()='Jouw selectie']/..|
|ensure    |is visible on page|Wis alles|in                  |xpath=//span[text()='Jouw selectie']/..|
|show      |take screenshot   |filter                                                                |

10

|scenario              |wis filter                                                |
|click                 |Wis alles      |in|xpath=//span[text()='Jouw selectie']/..|
|is not visible on page|xpath=//span[text()='Jouw selectie']/..                   |
|show                  |take screenshot|filter verwijderd                         |

11

|scenario|waarde teller lister|lister                  |van artikel|volgnr                  |waarde teller basket|basket|
|check   |value of            |css=[data-quantityinput]|in         |xpath=//article[@volgnr]|@lister                    |
|check   |value of            |css=.icon-basket        |@basket                                                         |

12

|scenario              |controleer of er boodschappen in winkelmandje zitten en verwijder ze|
|click                 |Mijn boodschappen      |in                   |css=.header-navbar    |
|$timeout=             |seconds before timeout                                              |
|seconds before timeout|5                                                                   |
|$tmp=                 |click if available     |Alle boodschappen verwijderen               |
|seconds before timeout|$timeout                                                            |
|check pending requests twice                                                               |
|check                 |value of               |css=.icon-basket     |0                     |
|show                  |take screenshot        |winkelmand leeg                             |

13

|scenario|winkelwissel bevestigen|

14

|scenario|sluit storeselectorpopup  zonder actie  |
|click   |css=.storeSelector__closeButton         |
|wait    |5              |seconds                 |
|show    |take screenshot|sluit storeselectorpopup|

15

|scenario|controleer notificatie en winkellink als je geen winkel gekozen hebt                                                                                                        |
|check   |value of          |css=.alertMessage--error|Je hebt nog geen winkel geselecteerd. Daarom zie je niet alle aanbiedingen en het volledige assortiment. Kies alsnog een winkel.|
|click   |xpath=(//a[text()='winkel'])[last()]                                                                                                                                        |
|ensure  |is visible on page|OP ZOEK NAAR EEN WINKEL?                                                                                                                                 |
|check   |value of          |css=.alertMessage--error|Je hebt nog geen winkel geselecteerd. Daarom zie je niet alle aanbiedingen en het volledige assortiment. Kies alsnog een winkel.|
|show    |take screenshot   |notificatie geen winkel                                                                                                                                  |

16

|scenario                                      |sluit storeselectorpopup na kiezen winkel|
|kies een postcode in storeselectorpopup stap 1|6883ew          |kies een winkel  |Velp  |
|click                                         |css=.storeSelector__closeButton          |
|show                                          |take screenshot |notificatie geen service|

17

|scenario          |controleer notificatie, winkellink en winklmandlink als je winkel en of service gekozen hebt|
|ensure            |is visible on page                     |is geselecteerd als jouw winkel.                    |
|ensure            |is visible on page                     |De reservering is nog niet voltooid.                |
|click             |Velp                                   |in        |css=.alertMessage--success > p > a       |
|is visible on page|Jouw winkel:                                                                                |
|is visible on page|is geselecteerd als jouw winkel.                                                            |
|is visible on page|De reservering is nog niet voltooid.                                                        |
|click             |xpath=.//a[text()='winkelmand']        |in        |css=.alertMessage--warning > p > a       |
|click             |winkelmand                             |in        |css=.alertMessage--warning > p > a       |
|is visible on page|De reservering is nog niet voltooid.                                                        |
|is visible on page|Alle boodschappen verwijderen                                                               |
|show              |take screenshot                        |notificatie winkelmandlink                          |

18

|scenario                                      |sluit storeselectorpopup na kiezen service|
|kies een postcode in storeselectorpopup stap 1|6883ew          |kies een winkel   |Velp  |
|kies een service in storeselectorpopup stap 2 |Bezorgen                                  |
|click                                         |css=.storeSelector__closeButton           |
|show                                          |take screenshot |notificatie geen timeslot|

19

|scenario                                      |sluit storeselectorpopup na kiezen servicemoment                     |
|kies een postcode in storeselectorpopup stap 1|6883ew         |kies een winkel                                 |Velp|
|kies een service in storeselectorpopup stap 2 |Bezorgen                                                             |
|kies servicedag in  storeselectorpopup stap 3 |2              |kies servicetijdslot in storeselectorpopup stap3|2   |
|click                                         |css=.storeSelector__closeButton                                      |
|show                                          |take screenshot|notificatie geen reservering                         |

20

|scenario          |controleer notificatie en winkellink als je reservering gemaakt hebt|
|ensure            |is visible on page    |is geselecteerd als jouw winkel.             |
|ensure            |is visible on page    |De reservering is gemaakt.                   |
|click             |Velp                  |in    |css=.alertMessage--success > p > a    |
|is visible on page|Jouw winkel:                                                        |
|is visible on page|is geselecteerd als jouw winkel.                                    |
|is visible on page|De reservering is gemaakt.                                          |
|show              |take screenshot       |notificatie reservering                      |

21

|scenario|kies een postcode in storeselectorpopup stap 1|postcode|kies een winkel     |winkel     |
|enter   |@postcode                                     |as      |css=.storeSelector__userLocation|
|click   |css=.btn--submitLocation                                                                |
|check pending requests                                                                           |
|ensure  |is visible on page                            |@winkel                                  |
|click   |@winkel                                                                                 |
|click   |Kies deze winkel                                                                        |
|show    |take screenshot                               |winkel gekozen                           |

22

|scenario      |kies een service in storeselectorpopup stap 2|service        |
|execute script|document.querySelector('[data-service="@service"]').click()  |
|show          |take screenshot                              |service gekozen|

22a

|scenario|kies Bezorgen in storeselectorpopup stap 2                                                                                                                                                                                                                                            |
|click   |css=#wrapper > div.storeSelector > section > section.storeSelector__step.storeSelector__step2._is_active > section > div > div.storeSelector__service.storeSelector__service--delivery > a > span.btn.btn--submitService.storeSelector__serviceButton.storeSelector__sectionTargetLink|

22b

|scenario|kies Ophalen in storeselectorpopup stap 2                                                                                                                                                                                                                                           |
|click   |css=#wrapper > div.storeSelector > section > section.storeSelector__step.storeSelector__step2._is_active > section > div > div.storeSelector__service.storeSelector__service--pickup > a > span.btn.btn--submitService.storeSelector__serviceButton.storeSelector__sectionTargetLink|

23

|scenario|kies servicedag in  storeselectorpopup stap 3|dagvolgnr|kies servicetijdslot in storeselectorpopup stap3|tijdslotvolgnr|
|click   |xpath=//select[@id="OrderData_DeliveryDate"]/option[@dagvolgnr]                                                        |
|click   |xpath=//select[@id="OrderData_DeliveryTime"]/option[@tijdslotvolgnr]                                                   |
|show    |take screenshot                              |timeslot gekozen                                                         |

24

|scenario|controleer melding in storeselector popup stap 3                                     |
|ensure  |is visible on page|Je reservering is terug te vinden en te wijzigen in de winkelmand.|
|show    |take screenshot   |melding stap 3                                                    |

25

|scenario|controleer melding in storeselector popup stap 3 half uur voor cutofftime |
|ensure  |is visible on page|Wil je de boodschappen ontvangen op het gekozen moment,|
|show    |take screenshot   |melding stap 3 half uur voor cutoff                    |

26

|scenario |ga door naar reservering in storeselectorpopup stap 3|
|check pending requests                                         |
|scroll to|top                                                  |
|click    |css=.btn--submitReservation                          |
|show     |take screenshot             |reservering             |


27

|scenario|controleer melding in storeselector popup stap 4                                     |
|ensure  |is visible on page|Je reservering is terug te vinden en te wijzigen in de winkelmand.|
|show    |take screenshot   |melding stap 4                                                    |

28

|scenario|controleer melding in storeselector popup stap 4 half uur voor cutofftime |
|ensure  |is visible on page|Wil je de boodschappen ontvangen op het gekozen moment,|
|show    |take screenshot   |melding stap 4 half uur voor cutoff                    |

29

|scenario                                      |wijzig winkel in storeselectorpopup stap 2     |
|click                                         |css=.storeSelector__step2 [data-targetstep='1']|
|kies een postcode in storeselectorpopup stap 1|6883ew             |kies een winkel    |Velp   |
|show                                          |take screenshot    |winkel velp popup          |

30

|scenario                                     |wijzig service in storeselectorpopup stap 3    |
|click                                        |css=.storeSelector__step3 [data-targetstep='2']|
|kies een service in storeselectorpopup stap 2|Ophalen                                        |
|show                                         |take screenshot         |Ophalen popup         |

31

|scenario                                     |wijzig servicedag en serviceslot in  storeselectorpopup stap 4     |
|click                                        |css=.storeSelector__step4 [data-targetstep='3']                    |
|kies servicedag in  storeselectorpopup stap 3|3              |kies servicetijdslot in storeselectorpopup stap 3|3|
|show                                         |take screenshot|derde bezorgdag derde tijdslot popup               |

32

|scenario|kies een postcode in storeselectorpopup stap 1|postcode|kies een winkel die niet bezorgt|winkel|
|enter   |@postcode                                     |as      |css=.storeSelector__userLocation       |
|click   |css=.btn--submitLocation                                                                       |
|click   |@winkel                                                                                        |
|ensure  |is visible on page                            |Deze winkel bezorgt niet op postcode            |
|click   |Kies deze winkel                                                                               |
|ensure  |is visible on page                            |Deze winkel bezorgt niet op postcode            |
|show    |take screenshot                               |winkel bezorgt niet                             |

33

|scenario|ga door naar winkelmand in storeselectorpopup stap 4 reservering|
|click   |css=.btn--redirect                                              |
|ensure  |is visible on page            |Alle boodschappen                |
|show    |take screenshot               |winkelmand reservering           |

34

|scenario|controleer of er artikelen in winkelmand zitten |
|show    |take screenshot   |artikelen in winkelmand      |
|click   |Mijn boodschappen |in    |css=.header-navbar    |
|show    |take screenshot   |artikelen in winkelmand      |
|wait    |5                 |seconds                      |
|ensure  |is visible on page|Alle boodschappen verwijderen|
|show    |take screenshot   |artikelen in winkelmand      |

35

|scenario|controleer of bestelgrens niet is bereikt                        |
|click   |Mijn boodschappen |in      |css=.header-navbar                   |
|ensure  |is visible on page|Alle boodschappen verwijderen                 |
|ensure  |is visible on page|css=.orderMessage                             |
|check   |value of attribute|disabled|on|css=.storeSelector__btn-order|true|
|show    |take screenshot   |beneden bestelgrens                           |

36

|scenario|controleer of bestelgrens is bereikt                                 |
|click   |Mijn boodschappen     |in      |css=.header-navbar                   |
|ensure  |is visible on page    |Alle boodschappen verwijderen                 |
|ensure  |is not visible on page|css=.orderMessage                             |
|check   |value of attribute    |disabled|on|css=.storeSelector__btn-order|null|
|show    |take screenshot       |boven bestelgrens                             |

37

|scenario|pas aantal aan om bestelgrens te bereiken      |
|open    |${URL_HERTOGJAN}                               |
|click   |xpath=//article//span[@data-plusbutton]        |
|click   |xpath=//article//span[@data-plusbutton]        |
|click   |xpath=//article//span[@data-plusbutton]        |
|click   |xpath=//article//span[@data-plusbutton]        |
|check pending requests                                  |
|show    |take screenshot|toevoegen tot boven bestelgrens|

38

|scenario|kies een postcode in winkelmand stap 1|postcode|kies een winkel     |winkel     |
|enter   |@postcode                             |as      |css=.storeSelector__userLocation|
|click   |css=.btn--submitLocation                                                        |
|check pending requests                                                                   |
|ensure  |is visible on page                    |@winkel                                  |
|click   |@winkel                               |in      |css=.storeSelector__storesList  |
|click   |Kies deze winkel                                                                |
|check pending requests                                                                   |
|show    |take screenshot                       |winkel gekozen                           |


39

|scenario      |kies een service in winkelmand stap 2   |service           |
|execute script|document.querySelector('[data-service="@service"]').click()|
|show          |take screenshot                         |service gekozen   |

40

|scenario |kies servicedag in winkelmand stap 3|dagvolgnr|kies servicetijdslot in winkelmand stap3|tijdslotvolgnr|
|scroll to|xpath=//select[@id="OrderData_DeliveryDate"]/option[@dagvolgnr]                                       |
|click    |xpath=//select[@id="OrderData_DeliveryDate"]/option[@dagvolgnr]                                       |
|check pending requests                                                                                          |
|click    |xpath=//select[@id="OrderData_DeliveryTime"]/option[@tijdslotvolgnr]                                  |
|show     |take screenshot                     |timeslot gekozen                                                 |

40a

|scenario|sla servicedatum op in|datum                                       |
|$tmp=   |value of              |xpath=//select[@id="OrderData_DeliveryDate"]|
|$@datum=|replace all           |(\D+)(\d+) (\D+)  |in  |$tmp  |with  |$2 $3 |


40b

|scenario   |sla servicetijdslot op in|tijdslot                                    |
|$@tijdslot=|value of                 |xpath=//select[@id="OrderData_DeliveryTime"]|

40c

|scenario|controleer in de reservering winkelmand servicedatum|datum    |en servicetijdslot|tijdslot                               |
|ensure  |is visible on page                                  |@datum   |in                |css=.storeSelector__selectedDateAndTime|
|ensure  |is visible on page                                  |@tijdslot|in                |css=.storeSelector__selectedDateAndTime|

40d

|scenario|controleer in de checkout servicedatum|datum    |en servicetijdslot|tijdslot                        |
|ensure  |is visible on page                    |@datum   |in                |css=.storeSelector__selectedDate|
|ensure  |is visible on page                    |@tijdslot|in                |css=.storeSelector__selectedDate|


41

|scenario|controleer melding in winkelmand  stap 3   |
|ensure  |is visible on page|Rond je bestelling af op|
|show    |take screenshot   |melding stap 3          |

42

|scenario|controleer melding in winkelmand  stap 3 half uur voor cutofftime         |
|ensure  |is visible on page|Wil je de boodschappen ontvangen op het gekozen moment,|
|show    |take screenshot   |melding stap 3 half uur voor cutoff                    |


43

|scenario|ga door naar reservering in winkelmand stap 3|
|click   |css=.btn--submitReservation                  |
|show    |take screenshot         |reservering         |


44

|scenario|controleer melding in winkelmand stap 4    |
|ensure  |is visible on page|Rond je bestelling af op|
|show    |take screenshot   |melding stap 4          |

45

|scenario|controleer melding in winkelmand stap 4 half uur voor cutofftime          |
|ensure  |is visible on page|Wil je de boodschappen ontvangen op het gekozen moment,|
|show    |take screenshot   |melding stap 4 half uur voor cutoff                    |

46

|scenario|wijzig winkel in winkelmand stap 1|postcode|kies een winkel     |winkel     |
|click   |css=.storeSelector__step2 [data-targetstep='1']                             |
|enter   |@postcode                         |as      |css=.storeSelector__userLocation|
|click   |css=.btn--submitLocation                                                    |
|check pending requests                                                               |
|click   |@winkel                                                                     |
|click   |Kies deze winkel                                                            |
|check pending requests                                                               |
|show    |take screenshot                   |gewijzigde winkel basket                 |

47

|scenario      |wijzig service in winkelmand stap 2|service                  |
|click         |css=.storeSelector__step3 [data-targetstep='2']              |
|execute script|document.querySelector('[data-service="@service"]').click()  |
|check pending requests                                                      |
|wait          |4                                  |seconds                  |
|show          |take screenshot                    |gewijzigde service basket|

48

|scenario                            |wijzig servicedag en serviceslot in winkelmand stap 3     |
|click                               |css=.storeSelector__step4 [data-targetstep='3']           |
|kies servicedag in winkelmand stap 3|3              |kies servicetijdslot in winkelmand stap3|3|
|show                                |take screenshot|derde bezorgdag derde tijdslot basket     |

49

|scenario|kies een postcode in winkelmand stap 1|postcode|kies een winkel die niet bezorgt|winkel|
|enter   |@postcode                             |as      |css=.storeSelector__userLocation       |
|click   |css=.btn--submitLocation                                                               |
|check pending requests                                                                          |
|click   |@winkel                                                                                |
|click   |Kies deze winkel                                                                       |
|check pending requests                                                                          |
|ensure  |is visible on page                    |Deze winkel bezorgt niet op postcode            |
|show    |take screenshot                       |winkel bezorgt niet                             |

50

|scenario|melding winkelmand artikel niet in assortiment bij kiezen winkel                                                                              |
|ensure  |is visible on page|Wil je deze winkel kiezen                                                                                                  |
|ensure  |is visible on page|Onderstaande product(en) worden uit je winkelmandje verwijderd, omdat de gekozen winkel deze niet in het assortiment heeft.|
|ensure  |is visible on page|Ja, kies deze winkel                                                                                                       |
|ensure  |is visible on page|Nee, kies een andere winkel                                                                                                |

50a

|scenario|melding winkelmand artikel niet in assortiment bij wijzigen winkel|
|ensure  |is visible on page         |Wil je van winkel wisselen            |
|ensure  |is visible on page         |Je gaat van winkel wisselen.          |
|ensure  |is visible on page         |Ja, kies deze winkel                  |
|ensure  |is visible on page         |Nee, niet van winkel wisselen         |

51

|scenario|ga verder naar bestellen ingelogd    |
|click   |Verder naar bestellen                |
|check pending requests                        |
|ensure  |is visible on page|Aanvullende opties|
|show    |take screenshot   |checkout          |

52

|scenario|ga verder naar bestellen niet ingelogd       |
|click   |Verder naar bestellen                        |
|check pending requests                                |
|ensure  |is visible on page|Gegevens                  |
|show    |take screenshot   |inloggen bestaand of nieuw|

53

|scenario|ga verder als bestaande klant|gebruikersnaam|wachtwoord   |wachtwoord   |
|enter   |@gebruikersnaam              |as            |css=#ShopLoginForm_Login   |
|enter   |@wachtwoord                  |as            |css=#ShopLoginForm_Password|
|press   |Tab                                                                     |
|click   |css=a[data-pageview='bestaandeklant/inloggen']                          |
|show    |take screenshot              |checkout bestaande klant                  |

54

|scenario      |vul checkout in en plaats bestelling als bestaande klant                        |
|ensure        |value of attribute|checked|on|xpath=//*[@id="OrderData_DeliverySimilarProducts"]|
|check         |value of attribute|checked|on|xpath=//*[@id="OrderData_HandInEmptyBottles"]|null|
|check         |value of attribute|checked|on|xpath=//*[@id="fc_coupon"]                   |null|
|scroll to     |css=#OrderData_Remarks                                                          |
|enter         |Testorder bestaand|as     |Uw opmerking                                         |
|execute script|document.querySelector('[name="OrderData_TermsAndConditions"]').click()         |
|click         |Bestelling plaatsen                                                             |
|check pending requests                                                                         |
|show          |take screenshot   |bestelling bestaande klant                                   |

55

|scenario|ga verder als nieuwe klant|emailadres                              |
|enter   |@emailadres               |as|css=#RegisterNewCustomer_EmailAddress|
|press   |Tab                                                                |
|click   |css=a[data-pageview='nieuwe-klant']                                |
|show    |take screenshot           |checkout nieuwe klant                   |

56

|scenario|vul accountgegevens in particulier                     |
|click   |css=#OrderData_CustomerType_Private                    |
|enter   |Luttelgeesterweg|as|css=#OrderData_Street              |
|enter   |37              |as|css=#OrderData_HouseNumber         |
|enter   |a               |as|css=##OrderData_HouseNumberAddition|
|enter   |8315 PA         |as|css=#OrderData_PostalCode          |
|enter   |Luttelgeest     |as|css=#OrderData_City                |
|click   |css=#OrderData_ReceiveCustomerCard                     |
|click   |css=#OrderData_Gender_Mevr                             |
|enter   |Stéfanie        |as|css=#OrderData_FirstName           |
|enter   |van             |as|css=#OrderData_LastNamePrefix      |
|enter   |Elemans         |as|css=#OrderData_LastName            |
|enter   |TEST1234        |as|css=#OrderData_Password            |
|enter   |TEST1234        |as|css=#OrderData_RetypedPassword     |
|enter   |06-29376539     |as|css=#OrderData_PhoneNumber         |
|click   |css=#OrderData_BirthDate_Day > option:nth-child(2)     |
|        |click           |1                                     |
|click   |css=#OrderData_BirthDate_Month > option:nth-child(4)   |
|        |click           |3                                     |
|click   |css=#OrderData_BirthDate_Year > option:nth-child(81)   |
|        |click           |1939                                  |
|click   |css=#OrderData_ReceiveNewsletter                       |
|show    |take screenshot |account nieuwe klant particulier      |


57

|scenario |vul accountgegevens in zakelijk                                         |
|scroll to|Zakelijk                                                                |
|click    |Zakelijk                                                                |
|         |click                     |css=#OrderData_CustomerType_Business         |
|ensure   |is visible on page        |css=#OrderData_CompanyName                   |
|ensure   |is visible on page        |css=#OrderData_Industry                      |
|ensure   |is visible on page        |css=#OrderData_TaxationID                    |
|enter    |Kinderdagverblijf Heijmans|as     |css=#OrderData_CompanyName           |
|select   |Kinderdagverblijf         |for    |css=#OrderData_Industry              |
|         |click                     |css=#OrderData_Industry > option:nth-child(3)|
|enter    |123456                    |as     |css=#OrderData_TaxationID            |
|enter    |Munnikendreef             |as     |css=#OrderData_Street                |
|enter    |19                        |as     |css=#OrderData_HouseNumber           |
|enter    |a                         |as     |css=#OrderData_HouseNumberAddition   |
|enter    |4254 DN                   |as     |css=#OrderData_PostalCode            |
|enter    |Sleeuwijk                 |as     |css=#OrderData_City                  |
|         |click                     |css=#OrderData_ReceiveCustomerCard           |
|click    |Ik wil graag een Coop klantenkaart ontvangen                            |
|         |click                     |css=#OrderData_Gender_Dhr                    |
|click    |Dhr.                                                                    |
|enter    |Lowie                     |as     |css=#OrderData_FirstName             |
|ensure   |is visible on page        |css=#OrderData_LastNamePrefix                |
|enter    |Heijmans                  |as     |css=#OrderData_LastName              |
|enter    |TEST1234                  |as     |css=#OrderData_Password              |
|enter    |TEST1234                  |as     |css=#OrderData_RetypedPassword       |
|enter    |06-12345678               |as     |css=#OrderData_PhoneNumber           |
|select   |16                        |for    |css=#OrderData_BirthDate_Day         |
|select   |10                        |for    |css=#OrderData_BirthDate_Month       |
|select   |1967                      |for    |css=#OrderData_BirthDate_Year        |
|click    |Ik wil graag de Coop nieuwsbrief ontvangen                              |
|         |click                     |css=#OrderData_ReceiveNewsletter             |
|show     |take screenshot           |account nieuwe klant zakelijk                |

58

|scenario      |vul checkout in en plaats bestelling als nieuwe particuliere klant                                          |
|ensure        |value of attribute         |checked           |on     |xpath=//*[@id="OrderData_DeliverySimilarProducts"]   |
|              |check                      |value of attribute|checked|on|xpath=//*[@id="OrderData_HandInEmptyBottles"]|null|
|              |check                      |value of attribute|checked|on|xpath=//*[@id="fc_coupon"]                   |null|
|enter         |Testorder nieuw particulier|as                |Uw opmerking                                                 |
|vul accountgegevens in particulier                                                                                         |
|execute script|document.querySelector('[name="OrderData_TermsAndConditions"]').click()                                     |
|click         |Bestelling plaatsen                                                                                         |
|check pending requests                                                                                                     |
|show          |take screenshot            |bestelling nieuwe particuliere klant                                            |


59

|scenario      |vul checkout in en plaats bestelling als nieuwe zakelijke klant                                          |
|ensure        |value of attribute      |checked           |on     |xpath=//*[@id="OrderData_DeliverySimilarProducts"]   |
|              |check                   |value of attribute|checked|on|xpath=//*[@id="OrderData_HandInEmptyBottles"]|null|
|              |check                   |value of attribute|checked|on|xpath=//*[@id="fc_coupon"]                   |null|
|enter         |Testorder nieuw zakelijk|as                |Uw opmerking                                                 |
|vul accountgegevens in zakelijk                                                                                         |
|execute script|document.querySelector('[name="OrderData_TermsAndConditions"]').click()                                  |
|click         |Bestelling plaatsen                                                                                      |
|check pending requests                                                                                                  |
|show          |take screenshot         |bestelling nieuwe zakelijke klant                                               |

59a

|scenario  |plaats herhaalbestelling|voornaam|maand|maandvolgnr|order|ordervolgnr|
|hover over|@voornaam                                                            |
|click     |Bestellingen                                                         |
|click     |css=.customSelect                                                    |
|click     |xpath=//*[@id="fiscal-period-start"]/option[@maandvolgnr]            |
|click     |xpath=//*[@id="list"]/li[@ordervolgnr]/ul/li[5]                      |
|check               pending requests                                            |

60

|scenario      |controleer bestelling en leg bestelnummer vast                |
|ensure        |is visible on page|Bedankt voor je bestelling!                |
|$bestelString=|value of          |xpath=//div[@class='orderInfo']/div[1]/span|
|$bestelnummer=|replace all       |(\D+)(\d+)(\D+) |in |$bestelString |with|$2|
|show          |take screenshot   |bestelling frontend                        |

61

|scenario  |uitloggen frontstore|accountnaam          |
|hover over|@accountnaam        |in|css=.header-navbar|
|click     |Uitloggen           |in|css=.navbar-sub   |
|ensure    |is visible on page  |Mijn Coop            |
|show      |take screenshot     |uitgelogd            |

62

|scenario|check pending requests twice|
|check pending requests               |
|wait    |2          |seconds         |
|check pending requests               |

B2 B

90

|scenario|log in als B2 B klant zonder account                                    |
|open    |${URL_B2B_zonder_account}                                               |
|ensure  |is visible on page|Let op u bent uitgelogd!|in|css=.featherlight-content|
|show    |take screenshot   |uitgelogd b2b                                        |

91

|scenario|log in als B2 B klant                                              |
|open    |${URL_B2B_met_account}                                             |
|ensure  |is visible on page|Winsum (frl), Meamerterdyk|in|css=.header-navbar|
|ensure  |is visible on page|Welkom Eltjo Folkersma    |in|css=.header-navbar|
|show    |take screenshot   |ingelogd b2b                                    |

92

|scenario|controleer of er artikelen in winkelmand zitten B2 B|
|click   |Mijn boodschappen   |in     |css=.header-navbar     |
|ensure  |is visible on page  |Alle boodschappen verwijderen  |
|ensure  |is visible on page  |Bestelling laten bezorgen      |
|show    |take screenshot     |winkelmand b2b                 |

93

|scenario|bestelling plaatsen B2 B                                                                    |
|click   |xpath=//*[@id="OrderData_DeliveryDate"]                                                     |
|click   |xpath=//*[@id="OrderData_DeliveryDate"]/option[3]|in|xpath=//*[@id="OrderData_DeliveryDate"]|
|click   |xpath=//*[@id="OrderData_Remarks"]                                                          |
|enter   |b2b testorder                                    |as|Uw opmerking                           |
|ensure  |is visible on page                               |WINSUM (FRL) Meamerterdyk 5               |
|ensure  |is visible on page                               |Bestelling afronden                       |
|click   |Bestelling afronden                                                                         |
|ensure  |is visible on page                               |procare                                   |
|show    |take screenshot                                  |procare b2b                               |

BACKOFFICE

100

|scenario|open Backoffice                       |
|open    |${URL_BACKEND}                        |
|show    |take screenshot|startscherm Backoffice|


101

|scenario|inloggen Backoffice                                               |
|enter   |${GN_BACKEND}    |as|xpath=//*[@id="LoginForm_Login"]             |
|enter   |${WW_BACKEND}    |as|xpath=//*[@id="LoginForm_Password"]          |
|enter   |${DOMAIN_BACKEND}|as|xpath=//*[@id="LoginForm_RegistrationDomain"]|
|click   |css=.loginbutton                                                  |
|wait    |5                |seconds                                         |
|show    |take screenshot  |ingelogd Backoffice                             |

102

|scenario|zoek laatste bestelnummer in Backoffice|
|open    |${URL_BESTELLINGEN}                    |
|show    |take screenshot     |laatste order     |

103


|scenario      |controleer de aangemaakte order     |
|open Backoffice                                    |
|inloggen Backoffice                                |
|zoek laatste bestelnummer in Backoffice            |
|leg nieuwste mail klantbevestiging vast            |
|leg nieuwste mail winkelbevestiging vast (Mailtrap)|


MAIL

200

|scenario        |leg nieuwste mail klantbevestiging vast|
|open in new tab |${URL_GOOGLEMAIL}                      |
|check pending requests                                  |
|enter           |${GN_GOOGLEMAIL}  |as |name=identifier |
|click           |Volgende                               |
|enter           |${WW_GOOGLEMAIL}  |as |name=password   |
|click           |Volgende                               |
|wait for visible|Inbox                                  |
|show            |take screenshot   |klantbevestiging    |
|click           |Google-account: coop de Tester         |
|click           |css=#gb_71                             |
|close tab                                               |

201

|scenario        |bevestig nieuwsbriefmail        |accountnaam                                              |
|open            |${URL_GOOGLEMAIL}                                                                         |
|check pending requests                                                                                     |
|enter           |${GN_GOOGLEMAIL}                |as                    |name=identifier                   |
|click           |Volgende                                                                                  |
|enter           |${WW_GOOGLEMAIL}                |as                    |name=password                     |
|click           |Volgende                                                                                  |
|wait for visible|Inbox                                                                                     |
|click           |xpath=!-//*[contains(text(),'Bevestig jouw aanvraag | @accountnaam')]/ancestor::td      -!|
|show            |take screenshot                 |klantbevestiging                                         |
|ensure          |is visible on page              |Bevestig jouw aanvraag                                   |
|click           |Ja, ik meld me aan voor de nieuwsbrief                                                    |
|check pending requests                                                                                     |
|show            |take screenshot                 |omgeving geopend na aanmelden nieuwsbrief                |
|ensure          |is visible on page              |Zoek supermarkt                                          |

205

|scenario        |leg nieuwste mail winkelbevestiging vast (Mailtrap)                 |
|open in new tab |${URL_MAILTRAP}                                                     |
|check pending requests                                                               |
|click           |Google account                                                      |
|enter           |${GN_GOOGLEMAIL}     |as  |name=identifier                          |
|click           |Volgende                                                            |
|enter           |${WW_GOOGLEMAIL}     |as  |name=password                            |
|click           |Volgende                                                            |
|wait for visible|Shared Inboxes                                                      |
|click           |css=ul.messages_list li:nth-child(1)                                |
|show            |take screenshot      |Mailtrap                                      |
|$url=           |value of attribute   |href|on|css=.attachments_list_region .data-row|
|$pdfFile=       |download content from|$url                                          |
|show            |pdf text             |$pdfFile                                      |
|show            |pdf text formatted   |$pdfFile                                      |
|click           |css=.username_info.username.mobile-off                              |
|click           |css=ul.dropdown_menu_block.account-dropdown li:nth-child(4) > a     |
|close tab                                                                            |













{{{ 
Checkout algemene voorwaarden aanklikken

|execute script|document.querySelector('[name="OrderData_TermsAndConditions"]').click()|

|in|css=.storeSelector__storesList|

}}}